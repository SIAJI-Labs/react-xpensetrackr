import{r as m,j as e,a as N,y as d,d as v}from"./app-793cf9d5.js";import{u as w,B as b}from"./button-4380bba0.js";import{T as D}from"./TemplateBackButton-ec58aae6.js";import{T as C}from"./TemplateList-03383010.js";import{D as E,a as T,b as M,c as o,T as $}from"./TemplateNoData-d753be41.js";import{S as F}from"./SystemLayout-3b5fe053.js";import{m as x}from"./function-8829c559.js";import{C as u,b as p,c as h,d as S,a as f}from"./card-6888966b.js";/* empty css            */import"./ApplicationLogo-5c56f361.js";import"./textarea-f9763287.js";import"./ApplicationLogoMask-62469e27.js";import"./input-3a86d487.js";function G({auth:j,data:s,related:i}){w();const[g,c]=m.useState(!1);let y=n=>e.jsx(C,{category:n});return m.useEffect(()=>{const n=t=>{var r,l;(r=t.detail)!=null&&r.action&&((l=t.detail)==null?void 0:l.action)==="delete"?location.href=route("sys.category.index"):d.reload()};return document.addEventListener("dialog.category.hidden",n),()=>{document.removeEventListener("dialog.category.hidden",n)}}),e.jsx(e.Fragment,{children:e.jsxs(F,{user:j.user,header:e.jsxs("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:["Category Detail: ",`${s!=null&&s.parent?`${s.parent.name} - `:""}${s==null?void 0:s.name}`]}),children:[e.jsx(N,{title:`Planned Summary: ${s!=null&&s.parent?`${s.parent.name} - `:""}${s==null?void 0:s.name}`}),e.jsx("div",{className:"flex flex-col gap-6",children:e.jsx(D,{className:"px-0"})}),e.jsxs(u,{className:" w-full",children:[e.jsx(p,{children:e.jsxs("div",{className:" relative flex flex-row justify-between items-start",children:[e.jsxs("div",{children:[e.jsx(h,{children:e.jsxs("div",{children:["Category Detail: ",`${s!=null&&s.parent?`${s.parent.name} - `:""}${s==null?void 0:s.name}`]})}),e.jsxs(S,{children:["See summary of ",e.jsx("u",{children:`${s!=null&&s.parent?`${s.parent.name} - `:""}${s==null?void 0:s.name}`})," category"]})]}),e.jsx("div",{children:e.jsxs(E,{open:g,onOpenChange:c,children:[e.jsx(T,{asChild:!0,children:e.jsx(b,{variant:"link",className:" p-0 h-auto leading-none dark:!text-white !text-black","data-type":"dropdown-trigger",children:e.jsx("i",{className:"fa-solid fa-ellipsis-vertical"})})}),e.jsxs(M,{sideOffset:5,alignOffset:0,side:"left",align:"start",children:[e.jsx(o,{className:" cursor-pointer",onClick:()=>{d.reload(),setTimeout(()=>{c(!1)},100)},children:e.jsx("span",{className:"",children:"Refresh"})}),(()=>document.getElementById("category-dialogSection")?e.jsx(o,{className:" cursor-pointer",onClick:t=>{let r=t.target;if(r){let l=r.innerHTML;r.innerHTML='<span class=" flex items-center gap-1"><i class="fa-solid fa-spinner fa-spin-pulse"></i>Loading</span>';const a=()=>{l&&(r.innerHTML=l),document.removeEventListener("dialog.category.shown",a)};document.addEventListener("dialog.category.shown",a)}document.dispatchEvent(new CustomEvent("category.edit-action",{bubbles:!0,detail:{uuid:s&&"uuid"in s?s==null?void 0:s.uuid:""}}))},children:e.jsx("span",{className:" text-yellow-500",children:"Edit"})}):e.jsx(e.Fragment,{}))(),(()=>document.getElementById("category-deleteDialogSection")?e.jsx(o,{className:" cursor-pointer",onClick:()=>{document.dispatchEvent(new CustomEvent("category.delete-action",{bubbles:!0,detail:{uuid:s&&"uuid"in s?s==null?void 0:s.uuid:null,action:"delete"}}))},children:e.jsx("span",{className:" text-red-500",children:"Delete"})}):e.jsx(e.Fragment,{}))()]})]})})]})}),e.jsx(f,{children:e.jsxs("div",{className:" flex flex-col gap-4",children:[(()=>s.parent&&s.parent.deleted_at!==null?e.jsx(e.Fragment,{children:e.jsxs("div",{className:" w-full p-4 rounded-lg border-2 border-dashed",children:[e.jsxs("span",{className:" flex items-center gap-2 text-sm font-normal",children:[e.jsx("i",{className:"fa-solid fa-triangle-exclamation"}),e.jsx("span",{className:"font-normal",children:"Parent Category is Deleted"})]}),e.jsxs("span",{className:" block mt-2",children:["Parent Category is deleted at ",x("MMM Do, YYYY / HH:mm",s.parent.deleted_at)]})]})}):"deleted_at"in s&&s.deleted_at!==null?e.jsx(e.Fragment,{children:e.jsxs("div",{className:" w-full p-4 rounded-lg border-2 border-dashed",children:[e.jsxs("span",{className:" flex items-center gap-2 text-sm font-normal",children:[e.jsx("i",{className:"fa-solid fa-triangle-exclamation"}),e.jsx("span",{className:"font-normal",children:"Data is Deleted"})]}),e.jsxs("span",{className:" block mt-2",children:["Related data is deleted at ",x("MMM Do, YYYY / HH:mm",s.deleted_at)]})]})}):e.jsx(e.Fragment,{}))(),e.jsxs("div",{className:" flex flex-row justify-between",children:[(()=>s.parent_id?e.jsx(e.Fragment,{children:e.jsx("div",{className:" flex flex-row justify-between",children:e.jsxs("div",{className:" flex flex-col",children:[e.jsx("span",{children:"Related to"}),e.jsx(v,{href:route("sys.category.show",s.parent.uuid),children:e.jsx("span",{className:"font-semibold underline",children:s.parent.name})})]})})}):e.jsx(e.Fragment,{}))(),e.jsxs("div",{className:" flex flex-col items-end",children:[e.jsx("span",{children:"Last Transaction"}),e.jsx("span",{children:"-"})]})]})]})})]}),(()=>i&&Object.keys(i).length>0?e.jsx(e.Fragment,{children:e.jsxs(u,{className:" w-full mt-6",children:[e.jsx(p,{children:e.jsx("div",{className:" relative flex flex-row justify-between items-start",children:e.jsx("div",{children:e.jsx(h,{children:e.jsx("div",{className:" text-base",children:"Related wallet"})})})})}),e.jsx(f,{children:e.jsx("div",{className:"flex flex-col gap-4",children:(()=>{let n=[],t=e.jsx($,{});return Object.values(i).forEach((r,l)=>{console.log(r),n.push(e.jsx("div",{children:y(r)},`related_item-${l}`))}),n.length>0?n:t})()})})]})}):e.jsx(e.Fragment,{}))()]})})}export{G as default};
