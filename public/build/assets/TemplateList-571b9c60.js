import{r as m,j as e,d as f}from"./app-49e19f09.js";import{f as g}from"./index-961138f1.js";import{D as h,a as j,b as v,c as a}from"./TemplateNoData-b0444318.js";import{B as b}from"./button-8f2a595a.js";function L({wallet:n,deleteAction:u=!0,editAction:o=!0,detailAction:c=!0}){let p=(Math.random()+1).toString(36).substring(7);const[x,d]=m.useState(!1);return m.useEffect(()=>{const s=()=>{setTimeout(()=>{d(!1)},100)};return document.addEventListener("dialog.wallet.shown",s),()=>{document.removeEventListener("dialog.wallet.shown",s)}}),e.jsx("section",{onClick:s=>{d(!0)},children:e.jsxs("div",{className:" flex flex-col gap-2 border rounded p-4 cursor-pointer",children:[e.jsxs("div",{className:" flex flex-row gap-6 justify-between",children:[e.jsx("span",{className:" font-medium w-full md:w-auto whitespace-nowrap overflow-hidden text-ellipsis",children:n&&"name"in n?n==null?void 0:n.name:"-"}),e.jsxs("div",{className:" flex flex-row flex-1 md:flex-none justify-between gap-2 items-center",children:[e.jsx("span",{className:" font-normal whitespace-nowrap ",children:g(n&&"balance"in n?n.balance:0)}),(()=>c||o||u?e.jsx("div",{children:e.jsxs(h,{open:x,onOpenChange:d,children:[e.jsx(j,{asChild:!0,children:e.jsx(b,{variant:"link",className:" p-0 h-auto leading-none dark:!text-white !text-black","data-type":"dropdown-trigger",children:e.jsx("i",{className:"fa-solid fa-ellipsis-vertical"})})}),e.jsxs(v,{sideOffset:5,alignOffset:0,side:"left",align:"start",children:[(()=>n&&"uuid"in n&&c?e.jsx(e.Fragment,{children:e.jsx(f,{href:route("sys.wallet.show",{uuid:n.uuid}),children:e.jsx(a,{className:" cursor-pointer",children:e.jsx("span",{className:" text-blue-500",children:"Detail"})})})}):e.jsx(e.Fragment,{}))(),(()=>document.getElementById("wallet-dialogSection")&&o?e.jsx(a,{className:" cursor-pointer",onClick:l=>{let t=l.target;if(t){let i=t.innerHTML;t.innerHTML='<span class=" flex items-center gap-1"><i class="fa-solid fa-spinner fa-spin-pulse"></i>Loading</span>';const r=()=>{i&&(t.innerHTML=i),document.removeEventListener("dialog.wallet.shown",r)};document.addEventListener("dialog.wallet.shown",r)}document.dispatchEvent(new CustomEvent("wallet.edit-action",{bubbles:!0,detail:{uuid:n&&"uuid"in n?n==null?void 0:n.uuid:""}}))},children:e.jsx("span",{className:" text-yellow-500",children:"Edit"})}):e.jsx(e.Fragment,{}))(),(()=>document.getElementById("walletBalanceAdjustment-dialogSection")&&o?e.jsx(a,{className:" cursor-pointer",onClick:l=>{let t=l.target;if(t){let i=t.innerHTML;t.innerHTML='<span class=" flex items-center gap-1"><i class="fa-solid fa-spinner fa-spin-pulse"></i>Loading</span>';const r=()=>{i&&(t.innerHTML=i),document.removeEventListener("dialog.wallet.balance-adjustment.shown",r)};document.addEventListener("dialog.wallet.balance-adjustment.shown",r)}document.dispatchEvent(new CustomEvent("wallet.balance-adjustment.edit-action",{bubbles:!0,detail:{uuid:n&&"uuid"in n?n==null?void 0:n.uuid:""}}))},children:e.jsx("span",{className:" text-yellow-500",children:"Balance Adjustment"})}):e.jsx(e.Fragment,{}))(),(()=>{let s=document.getElementById("wallet-deleteDialogSection");return u&&s?e.jsx(a,{className:" cursor-pointer",onClick:()=>{document.dispatchEvent(new CustomEvent("wallet.delete-action",{bubbles:!0,detail:{uuid:n&&"uuid"in n?n==null?void 0:n.uuid:null,action:"delete"}}))},children:e.jsx("span",{className:" text-red-500",children:"Delete"})}):e.jsx(e.Fragment,{})})()]})]})}):e.jsx(e.Fragment,{}))()]})]}),(()=>n&&"parent"in n&&n.parent&&n.parent.deleted_at!==null?e.jsx("span",{className:" text-sm italic text-red-500",children:"*Something need your attention"}):e.jsx(e.Fragment,{}))()]})},p)}export{L as T};
