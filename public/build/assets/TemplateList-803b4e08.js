import{r as d,j as e,d as x}from"./app-49e19f09.js";import{D as f,a as h,b as j,c as r}from"./TemplateNoData-b0444318.js";import{B as w}from"./button-8f2a595a.js";function b({category:n,deleteAction:o=!0,editAction:u=!0}){let c=(Math.random()+1).toString(36).substring(7);const[m,i]=d.useState(!1);return d.useEffect(()=>{const t=()=>{setTimeout(()=>{i(!1)},100)};return document.addEventListener("dialog.category.shown",t),()=>{document.removeEventListener("dialog.category.shown",t)}}),e.jsx("section",{onClick:t=>{i(!0)},children:e.jsxs("div",{className:" flex flex-col gap-2 border rounded p-4 cursor-pointer",children:[e.jsxs("div",{className:" flex flex-row gap-6 justify-between",children:[e.jsx("span",{className:" font-medium w-full md:w-auto whitespace-nowrap overflow-hidden text-ellipsis",children:n&&"name"in n?n==null?void 0:n.name:"-"}),e.jsx("div",{className:" flex flex-row flex-1 md:flex-none justify-between gap-2 items-center",children:e.jsx("div",{children:e.jsxs(f,{open:m,onOpenChange:i,children:[e.jsx(h,{asChild:!0,children:e.jsx(w,{variant:"link",className:" p-0 h-auto leading-none dark:!text-white !text-black","data-type":"dropdown-trigger",children:e.jsx("i",{className:"fa-solid fa-ellipsis-vertical"})})}),e.jsxs(j,{sideOffset:5,alignOffset:0,side:"left",align:"start",children:[(()=>n&&"uuid"in n?e.jsx(e.Fragment,{children:e.jsx(x,{href:route("sys.category.show",{uuid:n.uuid}),children:e.jsx(r,{className:" cursor-pointer",children:e.jsx("span",{className:" text-blue-500",children:"Detail"})})})}):e.jsx(e.Fragment,{}))(),(()=>document.getElementById("category-dialogSection")&&u?e.jsx(r,{className:" cursor-pointer",onClick:p=>{let s=p.target;if(s){let l=s.innerHTML;s.innerHTML='<span class=" flex items-center gap-1"><i class="fa-solid fa-spinner fa-spin-pulse"></i>Loading</span>';const a=()=>{l&&(s.innerHTML=l),document.removeEventListener("dialog.category.shown",a)};document.addEventListener("dialog.category.shown",a)}document.dispatchEvent(new CustomEvent("category.edit-action",{bubbles:!0,detail:{uuid:n&&"uuid"in n?n==null?void 0:n.uuid:""}}))},children:e.jsx("span",{className:" text-yellow-500",children:"Edit"})}):e.jsx(e.Fragment,{}))(),(()=>{let t=document.getElementById("category-deleteDialogSection");return o&&t?e.jsx(r,{className:" cursor-pointer",onClick:()=>{document.dispatchEvent(new CustomEvent("category.delete-action",{bubbles:!0,detail:{uuid:n&&"uuid"in n?n==null?void 0:n.uuid:null,action:"delete"}}))},children:e.jsx("span",{className:" text-red-500",children:"Delete"})}):e.jsx(e.Fragment,{})})()]})]})})})]}),(()=>n&&"parent"in n&&n.parent&&n.parent.deleted_at!==null?e.jsx("span",{className:" text-sm italic text-red-500",children:"*Something need your attention"}):e.jsx(e.Fragment,{}))()]})},c)}export{b as T};
